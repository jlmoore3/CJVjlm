(this["webpackJsonpassignment-react"]=this["webpackJsonpassignment-react"]||[]).push([[0],{61:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),r=c(23),a=c.n(r),i=c(35),o=c(24),l=(c(61),Object(s.createContext)()),j=c(95),d=c(92),b=c(90),h=c(1),m=function(e){var t=Object(s.useContext)(l),c=t.addSaved,n=t.savedMovies;return Object(h.jsx)(j.a,{className:"col-sm-3",children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)("div",{className:"card-poster",children:Object(h.jsx)("img",{src:e.poster,alt:e.title})}),Object(h.jsxs)("div",{className:"movie-card",children:[Object(h.jsx)(j.a.Title,{children:e.title}),Object(h.jsxs)(j.a.Text,{children:[Object(h.jsx)("h6",{children:Object(h.jsx)("em",{children:e.genre})}),e.description.slice(0,140),e.description.length>=140&&"..."]}),Object(h.jsxs)("div",{className:"col-sm-12 button-group",children:[Object(h.jsx)(d.a.Link,{href:"/".concat(e.id),children:Object(h.jsx)(b.a,{variant:"primary",children:"Watch"})}),n.includes(e.id)?Object(h.jsx)(d.a.Link,{href:"/mymovies",children:Object(h.jsx)(b.a,{children:"See My List"})}):Object(h.jsx)(b.a,{variant:"secondary",onClick:function(){c(e.id)},children:"Save"})]})]})]})})},u=function(){var e=Object(s.useContext)(l).movies,t=[];return e.forEach((function(e){return t.push(e.Genre)})),console.log(e.Genre),Object(h.jsx)("div",{className:"row",children:t.map((function(e){return Object(h.jsx)("div",{className:"col-sm genres",children:Object(h.jsx)(d.a.Link,{href:"/?search=".concat(e.split(", ",1)),children:Object(h.jsx)(b.a,{className:"genre-btn",children:e})})})}))})},O=c(7),x=c(50),g=c.n(x),v=function(e){var t=Object(s.useContext)(l).movies,c=Object(O.f)().search,n=g.a.parse(c),r="";n.search&&(r=n.search.toLowerCase());var a=!1,i=t.map((function(t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m,{id:t.id,title:t.Title,description:t.Plot,poster:t.Poster,genre:t.Genre,addSaved:e.addSaved},t.id)})})),o=t.filter((function(e){return e.Genre.toLowerCase().includes(r)||e.Title.toLowerCase().includes(r)||e.Plot.toLowerCase().includes(r)||e.Writer.toLowerCase().includes(r)||e.Director.toLowerCase().includes(r)||e.Actors.toLowerCase().includes(r)})).map((function(t){return Object(h.jsxs)(h.Fragment,{children:[a=!0,Object(h.jsx)(m,{id:t.id,title:t.Title,description:t.Plot,poster:t.Poster,genre:t.Genre,addSaved:e.addSaved},t.id)]})}));return Object(h.jsxs)("div",{className:"row",children:[!r&&i,r&&o,!a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"No results"}),Object(h.jsx)("p",{children:"Browse by Genre:"}),Object(h.jsx)(u,{})]})]})},p=function(e){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsxs)("li",{className:"ratings",children:[e.Source.toLowerCase().includes("database")&&Object(h.jsx)("img",{src:"/images/imdb-logo.png",alt:e.Source}),e.Source.includes("Rotten")&&Object(h.jsx)("img",{src:"/images/rt-logo.png",alt:e.Source}),"Metacritic"===e.Source&&Object(h.jsx)("img",{src:"/images/metacritic-logo.png",alt:e.Source}),e.Value]})]})},f=function(){var e=Object(s.useContext)(l),t=e.movies,c=e.savedMovies,n=e.addSaved,r=Object(O.g)();return Object(h.jsx)("div",{className:"movie-body",children:t.filter((function(e){return e.id===r.id})).map((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md",children:Object(h.jsx)("img",{className:"featured-image-full",src:e.Poster,alt:e.Title})}),Object(h.jsxs)("div",{className:"col-md",children:[Object(h.jsxs)("h1",{className:"movie-title",children:[e.Title," (",e.Year,")"]}),Object(h.jsx)("p",{children:e.Plot}),Object(h.jsxs)("p",{children:["Starring: ",e.Actors]}),Object(h.jsxs)("p",{children:["Runtime: ",e.Runtime]}),Object(h.jsxs)("p",{children:["Rated: ",e.Rated]}),Object(h.jsxs)("div",{className:"button-group",children:[Object(h.jsx)(d.a.Link,{href:"/watch/".concat(e.id),children:Object(h.jsxs)(b.a,{variant:"primary",children:["Rent: ",e.RentPrice]})}),Object(h.jsx)(d.a.Link,{href:"/watch/".concat(e.id),children:Object(h.jsxs)(b.a,{variant:"primary",children:["Buy: ",e.BuyPrice]})}),c.includes(e.id)?Object(h.jsx)(d.a.Link,{href:"/mymovies",children:Object(h.jsx)(b.a,{children:"See My List"})}):Object(h.jsx)(b.a,{variant:"secondary",onClick:function(){n(e.id)},children:"Save"})]}),e.Ratings.map((function(e){return Object(h.jsx)(p,{Source:e.Source,Value:e.Value})}))]})]})})}))})},N=c.p+"static/media/logo.5ce18f67.svg",S=c(94),y=c(91),w=c(54),F=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(S.a,{className:"navbar nobr",children:[Object(h.jsx)(S.a.Brand,{href:"/",children:Object(h.jsx)("img",{src:N,className:"App-logo",alt:"logo"})}),Object(h.jsxs)(d.a,{className:"mr-auto",children:[Object(h.jsx)(d.a.Link,{href:"/genres",children:"Genres"}),Object(h.jsxs)(d.a.Link,{href:"/mymovies",children:["My List"," ",e.savedMovies.length>0&&"(".concat(e.savedMovies.length,")")]})]}),Object(h.jsxs)("div",{className:"search-bar",children:[!e.user&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(d.a.Link,{href:"/register",children:Object(h.jsx)("button",{className:"btn btn-primary registration",type:"submit",children:"Register"})})}),e.user&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(y.a,{action:"/",method:"get",children:[Object(h.jsx)(w.a,{type:"text",id:"nav-search",placeholder:"Search Movies",name:"search"}),Object(h.jsx)(b.a,{type:"submit",children:"Go!"})]}),Object(h.jsx)(d.a.Link,{href:"/",children:Object(h.jsx)("button",{className:"btn btn-secondary logout",type:"submit",onClick:function(){return e.setUser(window.sessionStorage.setItem("loggedIn",!1))},children:"Logout"})})]})]})]})})},C=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("div",{class:"container",children:Object(h.jsxs)("div",{class:"row",children:[Object(h.jsxs)("div",{class:"col-sm",children:["Joshua Logan Moore",Object(h.jsx)("br",{}),"061431086"]}),Object(h.jsx)("div",{class:"col-sm",children:"CJV805"}),Object(h.jsx)("div",{class:"col-sm",children:"July 11, 2021"})]})})})})},L=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"login-wrapper row",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"Username",children:Object(h.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){var t=e.target;return sessionStorage.setItem("Username",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"Password",children:Object(h.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return sessionStorage.setItem("Password",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){window.sessionStorage.setItem("loggedIn",!0)},children:"Login"})})]})})})},P=function(e){return Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"login-wrapper",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"Username",children:Object(h.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){var t=e.target;return sessionStorage.setItem("Username",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"Password",children:Object(h.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return sessionStorage.setItem("Password",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"FirstName",children:Object(h.jsx)("input",{type:"text",placeholder:"First Name",onChange:function(e){var t=e.target;return sessionStorage.setItem("FirstName",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"Surname",children:Object(h.jsx)("input",{type:"text",placeholder:"Surname",onChange:function(e){var t=e.target;return sessionStorage.setItem("Surname",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("label",{htmlFor:"Email",children:Object(h.jsx)("input",{type:"text",placeholder:"Email Address",onChange:function(e){var t=e.target;return sessionStorage.setItem("Email",{target:t})}})})}),Object(h.jsx)("div",{className:"col-sm",children:Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){return e.setUser(!0)},children:"Register"})})]})})})},I=function(){var e=Object(s.useContext)(l),t=e.movies,c=e.savedMovies,n=e.addSaved,r=t.filter((function(e){console.log(c),c.forEach((function(t){return e.id===t?e:null}))})).map((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m,{id:e.id,title:e.Title,description:e.Plot,poster:e.Poster,genre:e.Genre,addSaved:n},e.id)})}));return Object(h.jsxs)("div",{className:"row",children:[r,c,Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"No Movies Saved"}),Object(h.jsx)("p",{children:"Browse by Genre:"}),Object(h.jsx)(u,{})]})]})},k=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(L,{}),Object(h.jsx)("h1",{children:"404 Not Found"})]})},M=c(55),T=c.n(M),R=c(93),U=function(){var e=Object(s.useContext)(l).movies,t=Object(s.useState)(0),c=Object(o.a)(t,2),n=c[0],r=c[1],a=e.filter((function(e){return"Hero"===e.Featured}));return Object(h.jsx)("div",{children:Object(h.jsx)(R.a,{activeIndex:n,onSelect:function(e,t){r(e)},children:a.map((function(e){return Object(h.jsx)(R.a.Item,{children:Object(h.jsxs)("div",{className:"features",children:[Object(h.jsx)("div",{className:"featured-image",children:Object(h.jsx)("img",{src:e.Poster,alt:"".concat(e.Title)},e.id)}),Object(h.jsxs)("div",{className:"featured-text",children:[Object(h.jsx)("h1",{children:e.Title}),Object(h.jsxs)("h4",{children:[e.Plot.slice(0,140),e.Plot.length>=140&&"..."]}),Object(h.jsx)("ul",{children:e.Ratings.map((function(t){return Object(h.jsx)(p,{Source:t.Source,Value:t.Value},e.id)}))}),Object(h.jsx)("div",{children:Object(h.jsx)(d.a.Link,{href:"/".concat(e.id),children:Object(h.jsx)(b.a,{variant:"primary",className:"carousel-btn",children:"Watch Now"})})})]})]})})}))},e.id)})},G=c(29);var E=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];Object(s.useEffect)((function(){T.a.get("/api/movies").then((function(e){console.log("movies ".concat(e.headers)),n(e)})).catch((function(e){console.log("Error ".concat(e))}))}));var r=Object(s.useState)(),a=Object(o.a)(r,2),j=a[0],d=a[1];window.sessionStorage.setItem("loggedIn",!1),Object(s.useEffect)((function(){var e=window.sessionStorage.getItem("loggedIn");d(e),console.log("user ".concat(j))}),[]);var b=Object(s.useState)([]),m=Object(o.a)(b,2),x=m[0],g=m[1],p=function(e){localStorage.setItem("MyList",JSON.stringify([].concat(Object(i.a)(x),[e]))),x.includes(e)?console.log("Already saved. Faves: ".concat(x)):x.includes(e)||(g([].concat(Object(i.a)(x),[e])),console.log("Faves: ".concat(x.length)))};return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(l.Provider,{value:{movies:c,savedMovies:x,addSaved:p,removeSaved:function(e){localStorage.removeItem("MyList",JSON.stringify([].concat(Object(i.a)(x),[e]))),x.includes(e)?console.log("".concat(x)):x.includes(e)||console.log("Faves: ".concat(x.length))}},children:Object(h.jsxs)(G.a,{children:[Object(h.jsx)(O.c,{children:Object(h.jsx)("header",{children:Object(h.jsxs)("div",{className:"header-fw",children:[Object(h.jsx)(F,{setUser:d,user:j,savedMovies:x}),Object(h.jsx)(O.a,{exact:!0,path:"/",component:U}),!j&&Object(h.jsx)(L,{user:j,setUser:d})]})})}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(O.c,{children:j&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.a,{exact:!0,path:"/",component:v,addSaved:p}),Object(h.jsx)(O.a,{exact:!0,path:"/mymovies",component:I}),Object(h.jsx)(O.a,{exact:!0,path:"/genres",component:u}),Object(h.jsx)(O.a,{exact:!0,path:"/:id",component:f}),Object(h.jsx)(O.a,{exact:!0,path:"/?search",component:v})]})})}),Object(h.jsxs)(O.c,{children:[Object(h.jsx)(O.a,{path:"/register",component:P,setUser:d}),Object(h.jsx)(O.a,{path:"/",component:C})]}),Object(h.jsx)(O.a,{component:k})]})})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,96)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))};a.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),B()}},[[88,1,2]]]);
//# sourceMappingURL=main.06559dff.chunk.js.map